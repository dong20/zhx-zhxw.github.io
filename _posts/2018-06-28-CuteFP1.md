---
layout: post
title: 可爱的 FP 1 (副作用)
---
在上文中，我说到了副作用这个概念，而这篇文章将继续探讨这个概念。这个概念不止适用于 F# 也适用于其他的编程语言。
<!--more-->

***

**<font color="red">2020（庚子）年分割线</font>**

<font color="red">现在是 2020 年 1 月 29 日，庚子年正月初五。在我整理我博客文章的时候，重新阅读了本篇文章，发现里面有很多观点是有待商榷且过时的。我删除了部分偏激内容，并且将本文列入了重写计划的列表，这意味着这篇文章，会在日后有所更新。感谢您的阅读。</font>


***

# 前言
您应该也看见了，这篇文章的标题变成了可爱的 FP（如果您的记性不错的话，应该在之前的几章中频繁遇见了这个缩写了，为了防止有人没有读前面的章节和第一次读这个系列文章，那我就再次说明吧，这缩写的意思是：函数式编程，以后我都会如此简称了）。这并不是我想开新坑 ~~（毕竟我自己的 FP 水平就很差劲）~~ 只是上一章中我提到了这个概念，来填一下坑。您可以理解成这是 EX 节 ~~（EX 节是什么鬼啦！）~~
# 副作用
在这里，我们先来知道一下什么是副作用。副作用在[维基百科](https://en.wikipedia.org/wiki/Side_effect_(computer_science))中的定义如下：

> In computer science, a function or expression is said to have a side effect if it modifies some state outside its scope or has an observable interaction with its calling functions or the outside world besides returning a value.

主要概念简要翻译成中文就是：一个函数或者表达式修改了它的范围之外的状态，或者有和外部世界或它和调用的函数有交互行为。

好的我们明白了什么是副作用，当然这个定义可能有些难以理解，那么请您看一下接下来的章节，会有一些例子方便您理解。

# 纯函数
然后，我们来看一下什么是纯函数，不要为我们新引进的这个概念而慌张，这是一个相当容易的概念。我们来看一下下面的 F# 代码：

```fsharp
let foo x = x + 2
```

这是一个标准的纯函数。您也许结合纯函数这个名字就恍然大悟了，没错！没有副作用的函数就是纯函数了。
# 非纯函数
那么我们再来看几个函数：

```fsharp
let repeat x = printfn "%d" x;;
```

这个函数的作用是重复您的形式参数 x 的值，这个涉及到 I/O 相关的内容，我们以后再叙。我们一眼就可以知道了，这个函数它不是纯函数，它调用的 `printfn` 这个函数。这个肯定难不倒您。那么我们再来看一看这些代码:

```fsharp
let sum x y = x + y;;

let doubleSum x y = (sum x y) * 2;;  
```

`sum` 函数很明显是一个纯函数，但是 `doubleSum` 呢？很抱歉，`doubleSum` 函数并不是纯函数，它依然调用了外部的函数。

通过这两个例子您应该就理解纯函数和副作用的概念了。

# 题外话
非常感谢您阅读完了本文，这里是一些题外话，您有兴趣的话可以阅读一下。
## 为什么这么久没更新
上一篇博客是上学期的期末考试左右的时间写的，直接拖到了这个学期的期末考试前几天了（笑）。非常抱歉拖了这么久，主要是现在学业相对繁重，没有什么时间读书学习，没有什么输入，自然输出就少了。再加上我也没什么东西想写的 ~~（还有每天沉迷玩烂胶和看动画）~~。所以就托更了这么久。
## 这个博客除了 F# 还有别的么？
当然了，只不过我暂时没有想好写什么罢了。可能会有一些非计算机相关的文章出现在我的博客上吧。
# 结语
那么我想您已经了解了相关的概念，本文也就这么结束了，不是很长，但希望您能反复的阅读和理解。毕竟这个概念还是相当的有用的。

